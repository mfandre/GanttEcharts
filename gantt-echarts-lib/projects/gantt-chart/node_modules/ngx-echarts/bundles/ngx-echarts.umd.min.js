!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("resize-observer-polyfill"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-echarts",["exports","@angular/core","resize-observer-polyfill","rxjs","rxjs/operators"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["ngx-echarts"]={},t.ng.core,t.ResizeObserver,t.rxjs,t.rxjs.operators)}(this,(function(t,e,n,r,i){"use strict";function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=a(n);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function c(t,e,n,r){return new(n||(n=Promise))((function(i,a){function s(t){try{o(r.next(t))}catch(t){a(t)}}function c(t){try{o(r.throw(t))}catch(t){a(t)}}function o(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))}function o(t,e){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;Object.create;var h=function(){function t(t){this.changes=t}return t.of=function(e){return new t(e)},t.prototype.notEmpty=function(t){if(this.changes[t]){var e=this.changes[t].currentValue;if(null!=e)return r.of(e)}return r.EMPTY},t.prototype.has=function(t){if(this.changes[t]){var e=this.changes[t].currentValue;return r.of(e)}return r.EMPTY},t.prototype.notFirst=function(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){var e=this.changes[t].currentValue;return r.of(e)}return r.EMPTY},t.prototype.notFirstAndEmpty=function(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){var e=this.changes[t].currentValue;if(null!=e)return r.of(e)}return r.EMPTY},t}(),u=new e.InjectionToken("NGX_ECHARTS_CONFIG"),p=function(){function t(t,n,r){this.el=n,this.ngZone=r,this.autoResize=!0,this.loadingType="default",this.chartInit=new e.EventEmitter,this.optionsError=new e.EventEmitter,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.echarts=t.echarts}return t.prototype.ngOnChanges=function(t){var e=this,n=h.of(t);n.notFirstAndEmpty("options").subscribe((function(t){return e.onOptionsChange(t)})),n.notFirstAndEmpty("merge").subscribe((function(t){return e.setOption(t)})),n.has("loading").subscribe((function(t){return e.toggleLoading(!!t)})),n.notFirst("theme").subscribe((function(){return e.refreshChart()}))},t.prototype.ngOnInit=function(){var t=this;this.autoResize&&(this.resizeSub=new s.default((function(){t.animationFrameID=window.requestAnimationFrame((function(){return t.resize()}))})),this.resizeSub.observe(this.el.nativeElement))},t.prototype.ngOnDestroy=function(){this.resizeSub&&(this.resizeSub.unobserve(this.el.nativeElement),window.cancelAnimationFrame(this.animationFrameID)),this.dispose()},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){return t.initChart()}))},t.prototype.dispose=function(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)},t.prototype.resize=function(){this.chart&&this.chart.resize()},t.prototype.toggleLoading=function(t){this.chart&&(t?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())},t.prototype.setOption=function(t,e){if(this.chart)try{this.chart.setOption(t,e)}catch(t){console.error(t),this.optionsError.emit(t)}},t.prototype.refreshChart=function(){return c(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.dispose(),[4,this.initChart()];case 1:return t.sent(),[2]}}))}))},t.prototype.createChart=function(){var t=this,e=this.el.nativeElement;if(window&&window.getComputedStyle){var n=window.getComputedStyle(e,null).getPropertyValue("height");n&&"0px"!==n||e.style.height&&"0px"!==e.style.height||(e.style.height="400px")}return this.ngZone.runOutsideAngular((function(){return("function"==typeof t.echarts?t.echarts:function(){return Promise.resolve(t.echarts)})().then((function(n){return(0,n.init)(e,t.theme,t.initOpts)}))}))},t.prototype.initChart=function(){return c(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.onOptionsChange(this.options)];case 1:return t.sent(),this.merge&&this.chart&&this.setOption(this.merge),[2]}}))}))},t.prototype.onOptionsChange=function(t){return c(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return t?this.chart?(this.setOption(this.options,!0),[3,3]):[3,1]:[2];case 1:return e=this,[4,this.createChart()];case 2:e.chart=n.sent(),this.chartInit.emit(this.chart),this.setOption(this.options,!0),n.label=3;case 3:return[2]}}))}))},t.prototype.createLazyEvent=function(t){var e=this;return this.chartInit.pipe(i.switchMap((function(n){return new r.Observable((function(r){return n.on(t,(function(t){return e.ngZone.run((function(){return r.next(t)}))})),function(){e.chart&&(e.chart.isDisposed()||n.off(t))}}))})))},t}();p.decorators=[{type:e.Directive,args:[{selector:"echarts, [echarts]",exportAs:"echarts"}]}],p.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[u]}]},{type:e.ElementRef},{type:e.NgZone}]},p.propDecorators={options:[{type:e.Input}],theme:[{type:e.Input}],loading:[{type:e.Input}],initOpts:[{type:e.Input}],merge:[{type:e.Input}],autoResize:[{type:e.Input}],loadingType:[{type:e.Input}],loadingOpts:[{type:e.Input}],chartInit:[{type:e.Output}],optionsError:[{type:e.Output}],chartClick:[{type:e.Output}],chartDblClick:[{type:e.Output}],chartMouseDown:[{type:e.Output}],chartMouseMove:[{type:e.Output}],chartMouseUp:[{type:e.Output}],chartMouseOver:[{type:e.Output}],chartMouseOut:[{type:e.Output}],chartGlobalOut:[{type:e.Output}],chartContextMenu:[{type:e.Output}],chartLegendSelectChanged:[{type:e.Output}],chartLegendSelected:[{type:e.Output}],chartLegendUnselected:[{type:e.Output}],chartLegendScroll:[{type:e.Output}],chartDataZoom:[{type:e.Output}],chartDataRangeSelected:[{type:e.Output}],chartTimelineChanged:[{type:e.Output}],chartTimelinePlayChanged:[{type:e.Output}],chartRestore:[{type:e.Output}],chartDataViewChanged:[{type:e.Output}],chartMagicTypeChanged:[{type:e.Output}],chartPieSelectChanged:[{type:e.Output}],chartPieSelected:[{type:e.Output}],chartPieUnselected:[{type:e.Output}],chartMapSelectChanged:[{type:e.Output}],chartMapSelected:[{type:e.Output}],chartMapUnselected:[{type:e.Output}],chartAxisAreaSelected:[{type:e.Output}],chartFocusNodeAdjacency:[{type:e.Output}],chartUnfocusNodeAdjacency:[{type:e.Output}],chartBrush:[{type:e.Output}],chartBrushEnd:[{type:e.Output}],chartBrushSelected:[{type:e.Output}],chartRendered:[{type:e.Output}],chartFinished:[{type:e.Output}]};var l=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:u,useValue:e}]}},t.forChild=function(){return{ngModule:t}},t}();l.decorators=[{type:e.NgModule,args:[{imports:[],declarations:[p],exports:[p]}]}],t.NGX_ECHARTS_CONFIG=u,t.NgxEchartsDirective=p,t.NgxEchartsModule=l,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-echarts.umd.min.js.map